{"version":3,"sources":["auth/helper/index.js","core/Menu.js","core/Base.js","core/helper/ImageHelper.js","core/Card.js","core/helper/cartHelper.js","core/helper/coreapicalls.js","core/Home.js","user/Signup.js","user/Signin.js","auth/helper/AdminRoutes.js","auth/helper/PrivateRoutes.js","user/UserDashBoard.js","user/AdminDashBoard.js","admin/helper/adminapicall.js","admin/AddCategory.js","admin/ManageCategories.js","admin/AddProduct.js","admin/ManageProducts.js","admin/UpdateProduct.js","admin/UpdateCategory.js","core/helper/orderHelper.js","core/PaymentB.js","core/helper/paymentBHelper.js","core/Cart.js","Routes.js","index.js","backend.js"],"names":["isAuthenticated","window","localStorage","getItem","JSON","parse","currentTab","history","path","location","pathname","color","withRouter","className","style","to","user","role","onClick","next","removeItem","fetch","API","method","then","response","console","log","catch","err","signout","push","Base","title","description","children","ImageHelper","product","imageurl","_id","src","alt","maxHeight","maxWidth","Card","addtoCart","removeFromCart","setReload","f","reload","undefined","useState","redirect","setRedirect","count","cardTitle","name","cardDescription","cardPrice","price","addToCart","item","cart","setItem","stringify","addItemToCart","getARedirect","showAddToCart","productId","map","i","splice","removeItemFromCart","showRemoveFromCart","require","Home","products","setProducts","setError","loadAllProduct","json","data","error","useEffect","index","Signup","email","password","success","values","setValues","handleChange","event","target","value","onSubmit","preventDefault","headers","Accept","body","display","onChange","type","Signin","loading","didRedirect","signin","lodaing","authenticate","AdminRoute","Component","component","rest","render","props","state","from","PrivateRoute","UserDashboard","AdminDashboard","getCategories","AddCategory","setName","setSuccess","token","userId","category","Authorization","createCategory","successMessage","warningMessage","autoFocus","required","placeholder","ManageCategories","categories","setCategories","preload","deleteThisCategory","categoryId","deleteCategory","length","AddProduct","stock","photo","createdProduct","getRedirect","formData","FormData","createProduct","files","set","accept","cate","ManageProducts","deleteThisProduct","deleteProduct","UpdateProduct","match","getProduct","preloadCategories","params","updateProduct","UpdateCategory","updateCategory","PaymentB","clientToken","instance","info","setInfo","getToken","getmeToken","onPurchase","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","getAmount","paymentInfo","processPayment","orderData","transaction_id","transaction","id","order","createOrder","p","options","authorization","onInstance","Cart","loadCart","loadAllProducts","Routes","exact","UserDashBoard","AdminDashBoard","ReactDOM","document","getElementById","process"],"mappings":"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","file":"static/js/main.ef1b82e9.chunk.js","sourcesContent":["import { API } from \"../../backend\";\r\n\r\nexport const signup = (user) => {\r\n  return fetch(`${API}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const signin = (user) => {\r\n  return fetch(`${API}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const signout = (next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"jwt\");\r\n    next();\r\n    return fetch(`${API}/signout`, {\r\n      method: \"GET\",\r\n    })\r\n      .then((response) => console.log(\"signout success\"))\r\n      .catch((err) => console.log(err));\r\n  }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  if (typeof window == \"undefined\") {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem(\"jwt\")) {\r\n    return JSON.parse(localStorage.getItem(\"jwt\"));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signout, isAuthenticated } from \"../auth/helper\";\r\n\r\nconst currentTab = (history, path) => {\r\n  if (history.location.pathname === path) {\r\n    return { color: \"#2ecc72\" };\r\n  } else {\r\n    return { color: \"#FFFFFF\" };\r\n  }\r\n};\r\n\r\nconst Menu = ({ history }) => (\r\n  <div>\r\n    <ul className=\"nav nav-tabs bg-dark\">\r\n      <li className=\"nav-item\">\r\n        <Link style={currentTab(history, \"/\")} className=\"nav-link\" to=\"/\">\r\n          Home\r\n        </Link>\r\n      </li>\r\n      <li className=\"nav-item\">\r\n        <Link\r\n          style={currentTab(history, \"/cart\")}\r\n          className=\"nav-link\"\r\n          to=\"/cart\"\r\n        >\r\n          Cart\r\n        </Link>\r\n      </li>\r\n\r\n      {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            style={currentTab(history, \"/user/dashboard\")}\r\n            className=\"nav-link\"\r\n            to=\"/user/dashboard\"\r\n          >\r\n            U. Dashboard\r\n          </Link>\r\n        </li>\r\n      )}\r\n\r\n      {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n        <li className=\"nav-item\">\r\n          <Link\r\n            style={currentTab(history, \"/admin/dashboard\")}\r\n            className=\"nav-link\"\r\n            to=\"/admin/dashboard\"\r\n          >\r\n            A. Dashboard\r\n          </Link>\r\n        </li>\r\n      )}\r\n\r\n      {!isAuthenticated() && (\r\n        <Fragment>\r\n          <li className=\"nav-item\">\r\n            <Link\r\n              style={currentTab(history, \"/signup\")}\r\n              className=\"nav-link\"\r\n              to=\"/signup\"\r\n            >\r\n              Sign Up\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <Link\r\n              style={currentTab(history, \"/signin\")}\r\n              className=\"nav-link\"\r\n              to=\"/signin\"\r\n            >\r\n              Sign In\r\n            </Link>\r\n          </li>\r\n        </Fragment>\r\n      )}\r\n\r\n      {isAuthenticated() && (\r\n        <li className=\"nav-item\">\r\n          <span\r\n            className=\"nav-link text-warning\"\r\n            onClick={() => {\r\n              signout(() => {\r\n                history.push(\"/\");\r\n              });\r\n            }}\r\n          >\r\n            Signout\r\n          </span>\r\n        </li>\r\n      )}\r\n    </ul>\r\n  </div>\r\n);\r\n\r\nexport default withRouter(Menu);\r\n","import React from \"react\";\r\nimport Menu from \"./Menu\";\r\n\r\nconst Base = ({\r\n  title = \"My Store\",\r\n  description = \"My description\",\r\n  className = \"bg-dark text-white p-4\",\r\n  children,\r\n}) => (\r\n  <div>\r\n    <Menu />\r\n    <div className=\"container-fluid\">\r\n      <div className=\"jumbotron bg-dark text-white text-center\">\r\n        <h2 className=\"display-4\">{title}</h2>\r\n        <p className=\"lead\">{description}</p>\r\n      </div>\r\n      <div className={className}>{children}</div>\r\n    </div>\r\n    <footer className=\"footer bg-dark mt-auto py-3\">\r\n      <div className=\"container-fluid bg-success text-white text-center py-3\">\r\n        <h4>If you got any questions,feel free to reach out</h4>\r\n        <button className=\"btn btn-warning btn-lg\">Contact Us</button>\r\n      </div>\r\n      <div className=\"container\">\r\n        <span className=\"text-muted\">\r\n          An Amazing <span className=\"text-white\">MERN</span> Project\r\n        </span>\r\n      </div>\r\n    </footer>\r\n  </div>\r\n);\r\n\r\nexport default Base;\r\n","import React from \"react\";\r\nimport { API } from \"../../backend\";\r\n\r\nconst ImageHelper = ({ product }) => {\r\n  const imageurl = product\r\n    ? `${API}/product/photo/${product._id}`\r\n    : `https://images.pexels.com/photos/3561339/pexels-photo-3561339.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940`;\r\n  return (\r\n    <div className=\"rounded border border-success p-2\">\r\n      <img\r\n        src={imageurl}\r\n        alt=\"photo\"\r\n        style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\r\n        className=\"mb-3 rounded\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageHelper;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { addItemToCart, removeItemFromCart } from \"./helper/cartHelper\";\r\nimport ImageHelper from \"./helper/ImageHelper\";\r\n\r\nconst Card = ({\r\n  product,\r\n  addtoCart = true,\r\n  removeFromCart = false,\r\n  setReload = (f) => f,\r\n  //function(f)=>{return f}\r\n  reload = undefined,\r\n}) => {\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [count, setCount] = useState(product.count);\r\n\r\n  const cardTitle = product ? product.name : \"A photo from pexel\";\r\n  const cardDescription = product ? product.description : \"Default description\";\r\n  const cardPrice = product ? product.price : \"Default\";\r\n\r\n  const addToCart = () => {\r\n    addItemToCart(product, () => setRedirect(true));\r\n  };\r\n\r\n  const getARedirect = (redirect) => {\r\n    if (redirect) {\r\n      return <Redirect to=\"/cart\" />;\r\n    }\r\n  };\r\n\r\n  const showAddToCart = (addtoCart) => {\r\n    return (\r\n      addtoCart && (\r\n        <button\r\n          onClick={addToCart}\r\n          className=\"btn btn-block btn-outline-success mt-2 mb-2\"\r\n        >\r\n          Add to Cart\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showRemoveFromCart = (removeFromCart) => {\r\n    return (\r\n      removeFromCart && (\r\n        <button\r\n          onClick={() => {\r\n            removeItemFromCart(product._id);\r\n            setReload(!reload);\r\n          }}\r\n          className=\"btn btn-block btn-outline-danger mt-2 mb-2\"\r\n        >\r\n          Remove from cart\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"card text-white bg-dark border border-info \">\r\n      <div className=\"card-header lead\">{cardTitle}</div>\r\n      <div className=\"card-body\">\r\n        {getARedirect(redirect)}\r\n        <ImageHelper product={product} />\r\n        <p className=\"lead bg-success font-weight-normal text-wrap\">\r\n          {cardDescription}\r\n        </p>\r\n        <p className=\"btn btn-success rounded  btn-sm px-4\">${cardPrice}</p>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">{showAddToCart(addtoCart)}</div>\r\n          <div className=\"col-12\">{showRemoveFromCart(removeFromCart)}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","export const addItemToCart = (item, next) => {\r\n  let cart = [];\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    cart.push({\r\n      ...item,\r\n      count: 1,\r\n    });\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const loadCart = () => {\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      return JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n  }\r\n};\r\n\r\nexport const removeItemFromCart = (productId) => {\r\n  let cart = [];\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    cart.map((product, i) => {\r\n      if (product._id === productId) {\r\n        cart.splice(i, 1);\r\n      }\r\n    });\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }\r\n  return cart;\r\n};\r\n\r\nexport const cartEmpty = (next) => {\r\n  if (typeof window !== undefined) {\r\n    localStorage.removeItem(\"cart\");\r\n    let cart = [];\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n\r\n    next();\r\n  }\r\n};\r\n","const { API } = require(\"../../backend\");\r\n\r\nexport const getProducts = () => {\r\n  return fetch(`${API}/products`, { method: \"GET\" })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"../styles.css\";\r\nimport { API } from \"../backend\";\r\nimport Base from \"./Base\";\r\nimport Card from \"./Card\";\r\nimport { getProducts } from \"./helper/coreapicalls\";\r\n\r\nconst Home = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [error, setError] = useState(false);\r\n\r\n  const loadAllProduct = () => {\r\n    getProducts().then((data) => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        //console.log(data);\r\n        setProducts(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadAllProduct();\r\n  }, []);\r\n\r\n  return (\r\n    <Base title=\"Home Page\" description=\"Welcome to the Store\">\r\n      <div className=\"row text-center\">\r\n        <h1 className=\"text-white\">All Products</h1>\r\n        <div className=\"row\">\r\n          {products.map((product, index) => {\r\n            return (\r\n              <div key={index} className=\"col-4 mb-4\">\r\n                <Card product={product} />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signup } from \"../auth/helper\";\r\n\r\nconst Signup = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    success: false,\r\n  });\r\n  const { name, email, password, error, success } = values;\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false });\r\n    signup({ name, email, password })\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error, success: false });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            error: \"\",\r\n            success: true,\r\n          });\r\n        }\r\n      })\r\n      .catch(console.log(\"Error in signup\"));\r\n  };\r\n\r\n  const signUpForm = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Name</label>\r\n              <input\r\n                className=\"form-control\"\r\n                onChange={handleChange(\"name\")}\r\n                type=\"text\"\r\n                value={name}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Email</label>\r\n              <input\r\n                className=\"form-control\"\r\n                onChange={handleChange(\"email\")}\r\n                type=\"email\"\r\n                value={email}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Password</label>\r\n              <input\r\n                className=\"form-control\"\r\n                onChange={handleChange(\"password\")}\r\n                type=\"password\"\r\n                value={password}\r\n              />\r\n            </div>\r\n            <button onClick={onSubmit} className=\"btn btn-success btn-block\">\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const successMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-success\"\r\n            style={{ display: success ? \"\" : \"none\" }}\r\n          >\r\n            New account created successfully.\r\n            <Link to=\"/signin\">Login Here</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const errorMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n          >\r\n            {error}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Sign Up page\" description=\"A page for user to sign up!!!\">\r\n      {successMessage()}\r\n      {errorMessage()}\r\n      {signUpForm()}\r\n      {/* <p className=\"text-white text-center\">{JSON.stringify(values)}</p> */}\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React, { useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nimport { signin, authenticate, isAuthenticated } from \"../auth/helper\";\r\n\r\nconst Signin = () => {\r\n  const [values, setValues] = useState({\r\n    email: \"a@vishal.com\",\r\n    password: \"123456\",\r\n    error: \"\",\r\n    loading: false,\r\n    didRedirect: false,\r\n  });\r\n\r\n  const { email, password, error, loading, didRedirect } = values;\r\n  const { user } = isAuthenticated();\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false, loading: true });\r\n    signin({ email, password })\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error, lodaing: false });\r\n        } else {\r\n          authenticate(data, () => {\r\n            setValues({ ...values, didRedirect: true });\r\n          });\r\n        }\r\n      })\r\n      .catch(console.log(\"signin request failed\"));\r\n  };\r\n\r\n  const performRedirect = () => {\r\n    if (didRedirect) {\r\n      if (user && user.role === 1) {\r\n        return <Redirect to=\"/admin/dashboard\" />;\r\n      } else {\r\n        return <Redirect to=\"/user/dashboard\" />;\r\n      }\r\n    }\r\n    if (isAuthenticated()) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  const loadingMessage = () => {\r\n    return (\r\n      loading && (\r\n        <div className=\"alert alert-info\">\r\n          <h2>Loading...</h2>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const errorMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n          >\r\n            {error}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const signInForm = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Email</label>\r\n              <input\r\n                onChange={handleChange(\"email\")}\r\n                value={email}\r\n                className=\"form-control\"\r\n                type=\"email\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Password</label>\r\n              <input\r\n                onChange={handleChange(\"password\")}\r\n                value={password}\r\n                className=\"form-control\"\r\n                type=\"password\"\r\n              />\r\n            </div>\r\n            <button onClick={onSubmit} className=\"btn btn-success btn-block\">\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Sign In page\" description=\"A page for user to sign in !!!\">\r\n      {loadingMessage()}\r\n      {errorMessage()}\r\n      {signInForm()}\r\n      {performRedirect()}\r\n      {/* <p className=\"text-white text-center\">{JSON.stringify(values)}</p> */}\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/signin\",\r\n              state: { from: props.location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default AdminRoute;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isAuthenticated() ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/signin\",\r\n              state: { from: props.location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\nimport Base from \"../core/Base\";\r\n\r\nconst UserDashboard = () => {\r\n  return (\r\n    <Base title=\"UserDashboard page\">\r\n      <h1>This is UserDashBoard page</h1>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default UserDashboard;\r\n","import React from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { isAuthenticated } from \"../auth/helper/index\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst AdminDashboard = () => {\r\n  const {\r\n    user: { name, email, role },\r\n  } = isAuthenticated();\r\n\r\n  const adminLeftSide = () => {\r\n    return (\r\n      <div className=\"card\">\r\n        <h4 className=\"card-header bg-dark text-white\">Admin Navigation</h4>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/create/category\" className=\"nav-link text-success\">\r\n              Create Categories\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/create/product\" className=\"nav-link text-success\">\r\n              Create Product\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/categories\" className=\"nav-link text-success\">\r\n              Manage Categories\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/products\" className=\"nav-link text-success\">\r\n              Manage Products\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/orders\" className=\"nav-link text-success\">\r\n              Manage Orders\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const adminRightSide = () => {\r\n    return (\r\n      <div className=\"card mb-4\">\r\n        <h4 className=\"card-header\">Admin Information</h4>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            <span className=\"badge badge-success mr-2\">Name : </span>\r\n            {name}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"badge badge-success mr-2\">Email : </span>\r\n            {email}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"badge badge-danger\">Admin Area</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base\r\n      title=\"Welcome to admin area\"\r\n      description=\"Manage all of your products here\"\r\n      className=\"container bg-success p-4\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-3\">{adminLeftSide()}</div>\r\n        <div className=\"col-9\">{adminRightSide()}</div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n","import { API } from \"../../backend\";\r\n\r\n//CATEGORY CALLS\r\n//create a category\r\nexport const createCategory = (userId, token, category) => {\r\n  return fetch(`${API}/category/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(category),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//get all categories\r\nexport const getCategories = () => {\r\n  return fetch(`${API}/categories`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//delete a category\r\nexport const deleteCategory = (categoryId, userId, token) => {\r\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//update category\r\nexport const updateCategory = (categoryId, userId, token, category) => {\r\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(category),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//PRODUCTS CALLS\r\n//create a product\r\nexport const createProduct = (userId, token, product) => {\r\n  return fetch(`${API}/product/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//get all products\r\nexport const getProducts = () => {\r\n  return fetch(`${API}/products`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//get a product\r\nexport const getProduct = (productId) => {\r\n  return fetch(`${API}/product/${productId}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//delete a product\r\nexport const deleteProduct = (productId, userId, token) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//update a product\r\nexport const updateProduct = (productId, userId, token, product) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport Base from \"../core/Base\";\r\nimport { createCategory } from \"./helper/adminapicall\";\r\n\r\nconst AddCategory = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const goBack = () => (\r\n    <div className=\"mt-5\">\r\n      <Link className=\"btn btn-sm btn-success mb-3\" to=\"/admin/dashboard\">\r\n        Admin Dashboard\r\n      </Link>\r\n    </div>\r\n  );\r\n\r\n  const handleChange = (event) => {\r\n    setError(\"\");\r\n    setName(event.target.value);\r\n  };\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n    //backend request fired\r\n    createCategory(user._id, token, { name }).then((data) => {\r\n      if (data.error) {\r\n        setError(true);\r\n      } else {\r\n        setError(\"\");\r\n        setSuccess(true);\r\n        setName(\"\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const successMessage = () => {\r\n    if (success) {\r\n      return <h4 className=\"text-success\">Category created successfully</h4>;\r\n    }\r\n  };\r\n\r\n  const warningMessage = () => {\r\n    if (error) {\r\n      return <h4 className=\"text-success\">Failed to create category</h4>;\r\n    }\r\n  };\r\n\r\n  const myCategoryForm = () => (\r\n    <form>\r\n      <div className=\"form-group\">\r\n        <p className=\"lead\">Enter the category</p>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control my-3\"\r\n          onChange={handleChange}\r\n          value={name}\r\n          autoFocus\r\n          required\r\n          placeholder=\"For Ex. Summer\"\r\n        />\r\n      </div>\r\n      <button onClick={onSubmit} className=\"btn btn-outline-info\">\r\n        Create Category\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Base\r\n      title=\"Create a category here\"\r\n      description=\"Add a new category for Products\"\r\n      className=\"container bg-info p-4\"\r\n    >\r\n      <div className=\"row bg-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {warningMessage()}\r\n          {myCategoryForm()}\r\n          {goBack()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default AddCategory;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport Base from \"../core/Base\";\r\nimport { getCategories, deleteCategory } from \"./helper/adminapicall\";\r\n\r\nconst ManageCategories = () => {\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const preload = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        console.log();\r\n        setCategories(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  const deleteThisCategory = (categoryId) => {\r\n    deleteCategory(categoryId, user._id, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        preload();\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Welcome admin\" description=\"Manage products here\">\r\n      <Link className=\"btn btn-info mb-4\" to={`/admin/dashboard`}>\r\n        <span className=\"\">Admin Home</span>\r\n      </Link>\r\n      <h2 className=\"mb-4\">All Categories:</h2>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center text-white my-3\">\r\n            Total {categories.length} categories\r\n          </h2>\r\n          {categories.map((category, index) => {\r\n            return (\r\n              <div key={index} className=\"row text-center mb-2 \">\r\n                <div className=\"col-4\">\r\n                  <h3 className=\"text-white text-left\">{category.name}</h3>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <Link\r\n                    className=\"btn btn-success\"\r\n                    to={`/admin/category/update/${category._id}`}\r\n                  >\r\n                    <span className=\"\">Update</span>\r\n                  </Link>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <button\r\n                    onClick={() => {\r\n                      deleteThisCategory(category._id);\r\n                    }}\r\n                    className=\"btn btn-danger\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\nexport default ManageCategories;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport Base from \"../core/Base\";\r\nimport { createProduct, getCategories } from \"./helper/adminapicall\";\r\n\r\nconst AddProduct = () => {\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    stock: \"\",\r\n    photo: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    getRedirect: false,\r\n    formData: \"\",\r\n  });\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    stock,\r\n    categories,\r\n    category,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    getRedirect,\r\n    formData,\r\n  } = values;\r\n\r\n  const preload = () => {\r\n    getCategories().then((data) => {\r\n      // console.log(data);\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({ ...values, categories: data, formData: new FormData() });\r\n        //console.log(categories);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n    createProduct(user._id, token, formData).then((data) => {\r\n      //console.log(data);\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: \"\",\r\n          description: \"\",\r\n          price: \"\",\r\n          photo: \"\",\r\n          stock: \"\",\r\n          loading: false,\r\n          error: \"\",\r\n          createdProduct: data.name,\r\n          getRedirect: true,\r\n        });\r\n      }\r\n    });\r\n  };\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const successMessage = () => (\r\n    <div\r\n      className=\"alert alert-success mt-3\"\r\n      style={{ display: createdProduct ? \"\" : \"none\" }}\r\n    >\r\n      <h4>{createdProduct} created successfully</h4>\r\n    </div>\r\n  );\r\n\r\n  const errorMessage = () => (\r\n    <div\r\n      className=\"alert alert-success mt-3\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      <h4>Failed to create a product</h4>\r\n    </div>\r\n  );\r\n\r\n  //adding stuff from given file\r\n  const createProductForm = () => (\r\n    <form>\r\n      <span>Post photo</span>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-block btn-success\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image\"\r\n            placeholder=\"choose a file\"\r\n          />\r\n        </label>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Price\"\r\n          value={price}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <select\r\n          onChange={handleChange(\"category\")}\r\n          className=\"form-control\"\r\n          placeholder=\"Category\"\r\n        >\r\n          <option>Select</option>\r\n          {categories &&\r\n            categories.map((cate, index) => (\r\n              <option key={index} value={cate._id}>\r\n                {cate.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"stock\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Quantity\"\r\n          value={stock}\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        onClick={onSubmit}\r\n        className=\"btn btn-outline-success mb-3\"\r\n      >\r\n        Create Product\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Base\r\n      title=\"Add Product here\"\r\n      description=\"Welcome to product creation section\"\r\n      className=\"container bg-info p-4\"\r\n    >\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n        Admin Dashboard\r\n      </Link>\r\n      <div className=\"row bg-dark text-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {errorMessage()}\r\n          {createProductForm()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n","import React, { useState, useEffect } from \"react\";\nimport { isAuthenticated } from \"../auth/helper\";\nimport Base from \"../core/Base\";\nimport { Link } from \"react-router-dom\";\nimport { deleteProduct, getProducts } from \"./helper/adminapicall\";\n\nconst ManageProducts = () => {\n  const [products, setProducts] = useState([]);\n\n  const { user, token } = isAuthenticated();\n\n  const preload = () => {\n    getProducts().then((data) => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setProducts(data);\n      }\n    });\n  };\n\n  useEffect(() => {\n    preload();\n  }, []);\n\n  const deleteThisProduct = (productId) => {\n    deleteProduct(productId, user._id, token).then((data) => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        preload();\n      }\n    });\n  };\n\n  return (\n    <Base title=\"Welcome admin\" description=\"Manage products here\">\n      <Link className=\"btn btn-info mb-4\" to={`/admin/dashboard`}>\n        <span className=\"mb-4 \">Admin Dashboard</span>\n      </Link>\n      <h2 className=\"mb-4\">All products:</h2>\n\n      <div className=\"row\">\n        <div className=\"col-12\">\n          <h2 className=\"text-center text-white my-3\">\n            Total {products.length} products\n          </h2>\n\n          {products.map((product, index) => {\n            //console.log(product);\n            return (\n              <div key={index} className=\"row text-center mb-2 \">\n                <div className=\"col-4\">\n                  <h3 className=\"text-white text-left\">{product.name}</h3>\n                </div>\n                <div className=\"col-4\">\n                  <Link\n                    className=\"btn btn-success\"\n                    to={`/admin/product/update/${product._id}`}\n                  >\n                    <span className=\"\">Update</span>\n                  </Link>\n                </div>\n                <div className=\"col-4\">\n                  <button\n                    onClick={() => {\n                      deleteThisProduct(product._id);\n                    }}\n                    className=\"btn btn-danger\"\n                  >\n                    Delete\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </Base>\n  );\n};\nexport default ManageProducts;\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport Base from \"../core/Base\";\r\nimport {\r\n  getProduct,\r\n  getCategories,\r\n  updateProduct,\r\n} from \"./helper/adminapicall\";\r\n\r\nconst UpdateProduct = ({ match }) => {\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    stock: \"\",\r\n    photo: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    getRedirect: false,\r\n    formData: \"\",\r\n  });\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    stock,\r\n    categories,\r\n    category,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    getRedirect,\r\n    formData,\r\n  } = values;\r\n\r\n  const preload = (productId) => {\r\n    getProduct(productId).then((data) => {\r\n      //console.log(data);\r\n      //if (data?.error)\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: data.name,\r\n          description: data.description,\r\n          price: data.price,\r\n          category: data.category._id,\r\n          stock: data.stock,\r\n          formData: new FormData(),\r\n        });\r\n        preloadCategories();\r\n      }\r\n    });\r\n  };\r\n\r\n  const preloadCategories = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          categories: data,\r\n          formData: new FormData(),\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload(match.params.productId);\r\n  }, []);\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n\r\n    updateProduct(match.params.productId, user._id, token, formData).then(\r\n      (data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            description: \"\",\r\n            price: \"\",\r\n            stock: \"\",\r\n            loading: false,\r\n            error: \"\",\r\n            createdProduct: data.name,\r\n          });\r\n        }\r\n      }\r\n    );\r\n  };\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const successMessage = () => (\r\n    <div\r\n      className=\"alert alert-success mt-3\"\r\n      style={{ display: createdProduct ? \"\" : \"none\" }}\r\n    >\r\n      <h4>{createdProduct} Updated successfully</h4>\r\n    </div>\r\n  );\r\n  const errorMessage = () => (\r\n    <div\r\n      className=\"alert alert-success mt-3\"\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      <h4>Failed to create a product</h4>\r\n    </div>\r\n  );\r\n\r\n  //adding stuff from given file\r\n  const createProductForm = () => (\r\n    <form>\r\n      <span>Post photo</span>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-block btn-success\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image\"\r\n            placeholder=\"choose a file\"\r\n          />\r\n        </label>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Price\"\r\n          value={price}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <select\r\n          onChange={handleChange(\"category\")}\r\n          className=\"form-control\"\r\n          placeholder=\"Category\"\r\n        >\r\n          <option>Select</option>\r\n          {categories &&\r\n            categories.map((cate, index) => (\r\n              <option key={index} value={cate._id}>\r\n                {cate.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"stock\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Quantity\"\r\n          value={stock}\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        onClick={onSubmit}\r\n        className=\"btn btn-outline-success mb-3\"\r\n      >\r\n        Update Product\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Base\r\n      title=\"Update Product here\"\r\n      description=\"Welcome to product creation section\"\r\n      className=\"container bg-info p-4\"\r\n    >\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n        Admin Dashboard\r\n      </Link>\r\n      <div className=\"row bg-dark text-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {errorMessage()}\r\n          {createProductForm()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default UpdateProduct;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport Base from \"../core/Base\";\r\nimport { updateCategory } from \"./helper/adminapicall\";\r\n\r\nconst UpdateCategory = ({ match }) => {\r\n  const [name, setName] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const goBack = () => (\r\n    <div className=\"mt-5\">\r\n      <Link className=\"btn btn-sm btn-success mb-3\" to=\"/admin/dashboard\">\r\n        Admin Dashboard\r\n      </Link>\r\n    </div>\r\n  );\r\n\r\n  const handleChange = (event) => {\r\n    setError(\"\");\r\n    setName(event.target.value);\r\n  };\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n    //backend request fired\r\n    updateCategory(match.params.categoryId, user._id, token, { name }).then(\r\n      (data) => {\r\n        if (data.error) {\r\n          setError(true);\r\n        } else {\r\n          setError(\"\");\r\n          setSuccess(true);\r\n          setName(\"\");\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const successMessage = () => {\r\n    if (success) {\r\n      return <h4 className=\"text-success\">Category Updated successfully</h4>;\r\n    }\r\n  };\r\n\r\n  const warningMessage = () => {\r\n    if (error) {\r\n      return <h4 className=\"text-success\">Failed to Update category</h4>;\r\n    }\r\n  };\r\n\r\n  const myCategoryForm = () => (\r\n    <form>\r\n      <div className=\"form-group\">\r\n        <p className=\"lead\">Enter the category</p>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control my-3\"\r\n          onChange={handleChange}\r\n          value={name}\r\n          autoFocus\r\n          required\r\n          placeholder=\"For Ex. Summer\"\r\n        />\r\n      </div>\r\n      <button onClick={onSubmit} className=\"btn btn-outline-info\">\r\n        Update Category\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Base\r\n      title=\"Update a category here\"\r\n      description=\"Add a new category for new Tshirts\"\r\n      className=\"container bg-info p-4\"\r\n    >\r\n      <div className=\"row bg-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {warningMessage()}\r\n          {myCategoryForm()}\r\n          {goBack()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default UpdateCategory;\r\n","const { API } = require(\"../../backend\");\r\n\r\nexport const createOrder = (userId, token, orderData) => {\r\n  return fetch(`${API}/order/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ order: orderData }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { cartEmpty, loadCart } from \"./helper/cartHelper\";\r\nimport { getmeToken, processPayment } from \"./helper/paymentBHelper\";\r\nimport { createOrder } from \"./helper/orderHelper\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport DropIn from \"braintree-web-drop-in-react\";\r\n\r\nexport const PaymentB = ({\r\n  products,\r\n  setReload = (f) => f,\r\n  reload = undefined,\r\n}) => {\r\n  const [info, setInfo] = useState({\r\n    loading: false,\r\n    success: false,\r\n    clientToken: null,\r\n    error: \"\",\r\n    instance: {},\r\n  });\r\n\r\n  const userId = isAuthenticated() && isAuthenticated().user._id;\r\n  const token = isAuthenticated() && isAuthenticated().token;\r\n\r\n  const getToken = (userId, token) => {\r\n    getmeToken(userId, token).then((info) => {\r\n      // console.log(\"INFORMATION\", info);\r\n      if (info.error) {\r\n        setInfo({ ...info, error: info.error });\r\n      } else {\r\n        const clientToken = info.clientToken;\r\n        setInfo({ ...info, clientToken: clientToken });\r\n      }\r\n    });\r\n  };\r\n\r\n  const showbtdropIn = () => {\r\n    return (\r\n      <div>\r\n        {info.clientToken !== null && products.length > 0 ? (\r\n          <div>\r\n            <DropIn\r\n              options={{ authorization: info.clientToken }}\r\n              onInstance={(instance) => (info.instance = instance)}\r\n            />\r\n            <button className=\"btn btn-block btn-success\" onClick={onPurchase}>\r\n              Buy\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <h3>Please login or add something to cart</h3>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    getToken(userId, token);\r\n  }, []);\r\n\r\n  const onPurchase = () => {\r\n    setInfo({ loading: true });\r\n    let nonce;\r\n    let getNonce = info.instance.requestPaymentMethod().then((data) => {\r\n      nonce = data.nonce;\r\n      const paymentData = {\r\n        paymentMethodNonce: nonce,\r\n        amount: getAmount(),\r\n      };\r\n      processPayment(userId, token, paymentData)\r\n        .then((response) => {\r\n          setInfo({ ...info, loading: false, success: response.success });\r\n          //console.log(\"p success\");\r\n          const orderData = {\r\n            products: products,\r\n            transaction_id: response.transaction.id,\r\n            amount: response.transaction.amount,\r\n          };\r\n          createOrder(userId, token, orderData);\r\n          cartEmpty(() => {});\r\n          setReload(!reload);\r\n        })\r\n        .catch((err) => {\r\n          setInfo({ ...info, loading: false, success: false });\r\n          // console.log(\"p failed\");\r\n        });\r\n    });\r\n  };\r\n\r\n  const getAmount = () => {\r\n    let amount = 0;\r\n    products.map((p) => {\r\n      amount = amount + p.price;\r\n    });\r\n    return amount;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Your bill is {getAmount()}</h3>\r\n      {showbtdropIn()}\r\n    </div>\r\n  );\r\n};\r\n","import { API } from \"../../backend\";\r\n\r\nexport const getmeToken = (userId, token) => {\r\n  return fetch(`${API}/payment/gettoken/${userId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const processPayment = (userId, token, paymentInfo) => {\r\n  return fetch(`${API}/payment/braintree/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(paymentInfo),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"../styles.css\";\r\nimport { API } from \"../backend\";\r\nimport Base from \"./Base\";\r\nimport Card from \"./Card\";\r\nimport { loadCart } from \"./helper/cartHelper\";\r\nimport { PaymentB } from \"./PaymentB\";\r\n//import StripeCheckout from \"./StripeCheckout\";\r\n\r\nconst Cart = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [reload, setReload] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setProducts(loadCart());\r\n  }, [reload]);\r\n\r\n  const loadAllProducts = (products) => {\r\n    return (\r\n      <div>\r\n        <h2>This section is to load products</h2>\r\n        {products.map((product, index) => (\r\n          <Card\r\n            key={index}\r\n            product={product}\r\n            removeFromCart={true}\r\n            addtoCart={false}\r\n            setReload={setReload}\r\n            reload={reload}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const loadCheckout = () => {\r\n    return (\r\n      <div>\r\n        <h2>This section is for checkout</h2>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Cart Page\" description=\"Ready to checkout\">\r\n      <div className=\"row text-center\">\r\n        <div className=\"col-6\">\r\n          {products.length > 0 ? (\r\n            loadAllProducts(products)\r\n          ) : (\r\n            <h3>No Products in cart </h3>\r\n          )}\r\n        </div>\r\n        {\r\n          <div className=\"col-6\">\r\n            <PaymentB\r\n              products={products}\r\n              setReload={setReload}\r\n              reload={reload}\r\n            />\r\n\r\n            {\r\n              //use for stripe\r\n              //=========\r\n              // <StripeCheckout products={products} setReload={setReload} reload={reload} />\r\n            }\r\n          </div>\r\n        }\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport Home from \"./core/Home\";\r\nimport Signup from \"./user/Signup\";\r\nimport Signin from \"./user/Signin\";\r\nimport AdminRoute from \"./auth/helper/AdminRoutes\";\r\nimport PrivateRoute from \"./auth/helper/PrivateRoutes\";\r\nimport UserDashBoard from \"./user/UserDashBoard\";\r\nimport AdminDashBoard from \"./user/AdminDashBoard\";\r\nimport AddCategory from \"./admin/AddCategory\";\r\nimport ManageCategories from \"./admin/ManageCategories\";\r\nimport AddProduct from \"./admin/AddProduct\";\r\nimport ManageProducts from \"./admin/ManageProducts\";\r\nimport UpdateProduct from \"./admin/UpdateProduct\";\r\nimport UpdateCategory from \"./admin/UpdateCategory\";\r\nimport Cart from \"./core/Cart\";\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/signup\" exact component={Signup} />\r\n        <Route path=\"/signin\" exact component={Signin} />\r\n        <Route path=\"/cart\" exact component={Cart} />\r\n        <PrivateRoute path=\"/user/dashboard\" exact component={UserDashBoard} />\r\n        <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashBoard} />\r\n        <AdminRoute\r\n          path=\"/admin/create/category\"\r\n          exact\r\n          component={AddCategory}\r\n        />\r\n        <AdminRoute\r\n          path=\"/admin/categories\"\r\n          exact\r\n          component={ManageCategories}\r\n        />\r\n        <AdminRoute path=\"/admin/create/product\" exact component={AddProduct} />\r\n        <AdminRoute path=\"/admin/products\" exact component={ManageProducts} />\r\n        <AdminRoute\r\n          path=\"/admin/product/update/:productId\"\r\n          exact\r\n          component={UpdateProduct}\r\n        />\r\n        <AdminRoute\r\n          path=\"/admin/category/update/:categoryId\"\r\n          exact\r\n          component={UpdateCategory}\r\n        />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\r\nimport Routes from \"./Routes\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\r\n","export const API = process.env.REACT_APP_BACKEND;\r\n"],"sourceRoot":""}